import{_ as v,r as d,f as _,c as o,a as s,t as l,F as h,k as p,q as m,l as g,m as f,z as k,A as b,p as w,o as n}from"./index-BhwZ-e1m.js";const D={class:"history-view"},H={key:0,class:"loading-state"},x={key:1,class:"error-state glass-panel"},A={key:2,class:"empty-state glass-panel"},B={key:3,class:"history-grid"},q={class:"card-header"},N={class:"date-badge"},P={class:"author"},C={class:"movie-title"},E={class:"clues-preview"},F={class:"clue-item"},L={class:"clue-item"},S={class:"card-footer"},T={class:"clue-count"},V={__name:"HistoryView",setup(I){const r=d([]),i=d(!0),c=d(null),u=async()=>{i.value=!0;try{const a=m(g(f,"historyPuzzles"),k("movedToHistoryAt","desc"),b(50)),e=await w(a);r.value=e.docs.map(t=>({id:t.id,...t.data()}))}catch(a){console.error("Error fetching history:",a),c.value="Failed to load history"}finally{i.value=!1}},y=a=>a?new Date(a.toDate()).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"Unknown date";return _(()=>{u()}),(a,e)=>(n(),o("div",D,[e[4]||(e[4]=s("h1",{class:"title"},"Puzzle Archives",-1)),i.value?(n(),o("div",H,[...e[0]||(e[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"Loading archives...",-1)])])):c.value?(n(),o("div",x,[s("p",null,l(c.value),1),s("button",{onClick:u,class:"retry-btn"},"Try Again")])):r.value.length===0?(n(),o("div",A,[...e[1]||(e[1]=[s("p",null,"No archived puzzles yet.",-1),s("p",{class:"sub-text"},"Puzzles appear here after they expire.",-1)])])):(n(),o("div",B,[(n(!0),o(h,null,p(r.value,t=>(n(),o("div",{key:t.id,class:"history-card glass-panel"},[s("div",q,[s("span",N,l(y(t.movedToHistoryAt)),1),s("span",P,"by "+l(t.submittedBy),1)]),s("h2",C,"ðŸŽ¬ "+l(t.movieName),1),s("div",E,[s("div",F,[e[2]||(e[2]=s("span",{class:"clue-label"},"Hardest Clue:",-1)),s("p",null,l(t.clues[0]),1)]),s("div",L,[e[3]||(e[3]=s("span",{class:"clue-label"},"Easiest Clue:",-1)),s("p",null,l(t.clues[t.clues.length-1]),1)])]),s("div",S,[s("span",T,l(t.clues.length)+" clues total",1)])]))),128))]))]))}},U=v(V,[["__scopeId","data-v-e674878f"]]);export{U as default};
