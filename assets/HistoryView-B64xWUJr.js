import{_ as v,r as d,f as _,c as o,a as s,t as l,F as h,l as p,q as m,s as g,n as f,H as b,I as k,x as w,o as n}from"./index-BmQksIZ3.js";const H={class:"history-view"},x={key:0,class:"loading-state"},D={key:1,class:"error-state glass-panel"},B={key:2,class:"empty-state glass-panel"},q={key:3,class:"history-grid"},A={class:"card-header"},N={class:"date-badge"},P={class:"author"},C={class:"movie-title"},E={class:"clues-preview"},F={class:"clue-item"},I={class:"clue-item"},L={class:"card-footer"},S={class:"clue-count"},T={__name:"HistoryView",setup(V){const r=d([]),i=d(!0),c=d(null),u=async()=>{i.value=!0;try{const a=m(g(f,"historyPuzzles"),b("movedToHistoryAt","desc"),k(50)),e=await w(a);r.value=e.docs.map(t=>({id:t.id,...t.data()}))}catch(a){console.error("Error fetching history:",a),c.value="Failed to load history"}finally{i.value=!1}},y=a=>a?new Date(a.toDate()).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"Unknown date";return _(()=>{u()}),(a,e)=>(n(),o("div",H,[e[4]||(e[4]=s("h1",{class:"title"},"Puzzle Archives",-1)),i.value?(n(),o("div",x,[...e[0]||(e[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"Loading archives...",-1)])])):c.value?(n(),o("div",D,[s("p",null,l(c.value),1),s("button",{onClick:u,class:"retry-btn"},"Try Again")])):r.value.length===0?(n(),o("div",B,[...e[1]||(e[1]=[s("p",null,"No archived puzzles yet.",-1),s("p",{class:"sub-text"},"Puzzles appear here after they expire.",-1)])])):(n(),o("div",q,[(n(!0),o(h,null,p(r.value,t=>(n(),o("div",{key:t.id,class:"history-card glass-panel"},[s("div",A,[s("span",N,l(y(t.movedToHistoryAt)),1),s("span",P,"by "+l(t.submittedBy),1)]),s("h2",C,"ðŸŽ¬ "+l(t.movieName),1),s("div",E,[s("div",F,[e[2]||(e[2]=s("span",{class:"clue-label"},"Hardest Clue:",-1)),s("p",null,l(t.clues[0]),1)]),s("div",I,[e[3]||(e[3]=s("span",{class:"clue-label"},"Easiest Clue:",-1)),s("p",null,l(t.clues[t.clues.length-1]),1)])]),s("div",L,[s("span",S,l(t.clues.length)+" clues total",1)])]))),128))]))]))}},U=v(T,[["__scopeId","data-v-e674878f"]]);export{U as default};
